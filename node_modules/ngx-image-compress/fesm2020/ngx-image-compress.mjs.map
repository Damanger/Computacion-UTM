{"version":3,"file":"ngx-image-compress.mjs","sources":["../../../projects/ngx-image-compress/src/lib/models/DOC_ORIENTATION.ts","../../../projects/ngx-image-compress/src/lib/image-compress.ts","../../../projects/ngx-image-compress/src/lib/ngx-image-compress.service.ts","../../../projects/ngx-image-compress/src/public-api.ts","../../../projects/ngx-image-compress/src/ngx-image-compress.ts"],"sourcesContent":["/**\n * EXIF tag standard reference\n *\n * Tag Name: Orientation\n * Tag ID: 0x0112\n * Writable: int16u\n * Group: IFD0\n * Values:\n 1 = Horizontal (normal)\n 2 = Mirror horizontal\n 3 = Rotate 180\n 4 = Mirror vertical\n 5 = Mirror horizontal and rotate 270 CW\n 6 = Rotate 90 CW\n 7 = Mirror horizontal and rotate 90 CW\n 8 = Rotate 270 CW\n */\nexport enum DOC_ORIENTATION {\n  Up = 1,                     //Horizontal (normal)\n  Down = 3,                   //Rotate 180\n  Right = 6,                  //Rotate 90 CW\n  Left = 8,                   //Rotate 270 CW\n  UpMirrored = 2,             //Mirror horizontal\n  DownMirrored = 4,           //Mirror vertical\n  LeftMirrored = 5,           //Mirror horizontal and rotate 270 CW\n  RightMirrored = 7,          //Mirror horizontal and rotate 90 CW\n  Default = 0,\n  NotJpeg = -1,\n  NotDefined = -2\n}\n\n","import {Renderer2} from '@angular/core';\nimport {DataUrl} from './models/data-url';\nimport {DOC_ORIENTATION} from './models/DOC_ORIENTATION';\nimport {UploadResponse} from './models/upload-response';\n\nexport class ImageCompress {\n    static getOrientation = (file: File): Promise<DOC_ORIENTATION> =>\n        new Promise<DOC_ORIENTATION>((resolve, reject) => {\n            try {\n                const reader = new FileReader();\n                reader.onload = () => {\n                    const view = new DataView(reader.result as ArrayBuffer);\n                    if (!view.byteLength) {\n                        return resolve(DOC_ORIENTATION.NotDefined);\n                    }\n                    if (view.getUint16(0, false) !== 0xffd8) {\n                        return resolve(DOC_ORIENTATION.NotDefined);\n                    }\n                    const length = view.byteLength;\n                    let offset = 2;\n                    while (offset < length) {\n                        const marker = view.getUint16(offset, false);\n                        offset += 2;\n                        if (marker === 0xffe1) {\n                            if (view.getUint32((offset += 2), false) !== 0x45786966) {\n                                return resolve(DOC_ORIENTATION.NotJpeg);\n                            }\n                            const little = view.getUint16((offset += 6), false) === 0x4949;\n                            offset += view.getUint32(offset + 4, little);\n                            const tags = view.getUint16(offset, little);\n                            offset += 2;\n                            for (let i = 0; i < tags; i++) {\n                                if (view.getUint16(offset + i * 12, little) === 0x0112) {\n                                    return resolve(view.getUint16(offset + i * 12 + 8, little));\n                                }\n                            }\n                        } else if ((marker & 0xff00) !== 0xff00) {\n                            break;\n                        } else {\n                            offset += view.getUint16(offset, false);\n                        }\n                    }\n                    return resolve(DOC_ORIENTATION.NotJpeg);\n                };\n                reader.readAsArrayBuffer(file);\n            } catch (e) {\n                return reject(DOC_ORIENTATION.Default);\n            }\n        });\n\n    static uploadFile = (render: Renderer2, multiple: boolean = true, rejectOnCancel = false): Promise<UploadResponse | UploadResponse[]> =>\n        new Promise(function (resolve, reject) {\n            const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n            const isIOS = /iPad|iPhone|iPod/i.test(navigator.userAgent);\n\n            Promise.resolve(isSafari || isIOS)\n                .then(onlyNative => {\n                    if (onlyNative) {\n                        return ImageCompress.generateUploadInputNative(window.document, multiple, rejectOnCancel);\n                    } else {\n                        return ImageCompress.generateUploadInputRenderer(render, multiple, rejectOnCancel);\n                    }\n                })\n                .then((filesList: FileList | null) => {\n                    const files = filesList ? Array.from(filesList) : [];\n                    const orientationPromises = files.map(file => ImageCompress.getOrientation(file));\n                    const readerPromises = files.map(file => ImageCompress.fileToDataURL(file));\n\n                    let orientationsResult: DOC_ORIENTATION[] = [];\n\n                    Promise.all(orientationPromises)\n                        .then((orientations: DOC_ORIENTATION[]) => {\n                            orientationsResult = orientations;\n                            return Promise.all(readerPromises);\n                        })\n                        .then(readerResult => {\n                            const resultArray = readerResult.map((parsedFile, index) => ({\n                                image: parsedFile.dataUrl,\n                                orientation: orientationsResult[index],\n                                fileName: parsedFile.fileName,\n                            }));\n\n                            if (multiple) {\n                                resolve(resultArray);\n                            } else {\n                                resolve(resultArray[0]);\n                            }\n                        });\n                })\n                .catch(err => reject(err));\n        });\n\n    static fileToDataURL = (file: File): Promise<{dataUrl: string; fileName: string}> => {\n        return new Promise<{dataUrl: string; fileName: string}>((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onload = (e: any) => {\n                //myReader.onloadend = (progressEvent: ProgressEvent<FileReader>)\n                resolve({dataUrl: e.target.result, fileName: file.name});\n            };\n            try {\n                reader.readAsDataURL(file);\n            } catch (e) {\n                reject(`ngx-image-compress - probably no file have been selected: ${e}`);\n            }\n        });\n    };\n\n    static generateUploadInputRenderer = (render: Renderer2, multiple: boolean = true, rejectOnCancel = false) => {\n        let lock = false;\n        return new Promise<FileList | null>((resolve, reject) => {\n            const inputElement = render.createElement('input');\n            render.setStyle(inputElement, 'display', 'none');\n            render.setProperty(inputElement, 'type', 'file');\n            render.setProperty(inputElement, 'accept', 'image/*');\n\n            if (multiple) {\n                render.setProperty(inputElement, 'multiple', 'true');\n            }\n\n            render.listen(inputElement, 'click', ($event: MouseEvent) => {\n                ($event.target as any as HTMLInputElement).value = '';\n            });\n\n            render.listen(inputElement, 'change', $event => {\n                lock = true;\n                const files: FileList = $event.target.files;\n                resolve(files);\n            });\n\n            if (rejectOnCancel) {\n                window.addEventListener(\n                    'focus',\n                    () => {\n                        setTimeout(() => {\n                            if (!lock) {\n                                reject(new Error('file upload on blur - no file selected'));\n                            }\n                        }, 300);\n                    },\n                    {once: true}\n                );\n            }\n\n            inputElement.click();\n        });\n    };\n\n    static generateUploadInputNative = (documentNativeApi: any, multiple: boolean = true, rejectOnCancel = false) => {\n        let lock = false;\n        return new Promise<FileList | null>((resolve, reject) => {\n            const inputElement = documentNativeApi.createElement('input');\n            inputElement.id = 'upload-input' + new Date();\n            inputElement.style.display = 'none';\n            inputElement.setAttribute('type', 'file');\n            inputElement.setAttribute('accept', 'image/*');\n\n            if (multiple) {\n                inputElement.setAttribute('multiple', 'true');\n            }\n\n            documentNativeApi.body.appendChild(inputElement);\n\n            inputElement.addEventListener(\n                'change',\n                () => {\n                    lock = true;\n                    resolve(inputElement.files);\n                    documentNativeApi.body.removeChild(documentNativeApi.getElementById(inputElement.id) as Node);\n                },\n                {once: true}\n            );\n\n            if (rejectOnCancel) {\n                window.addEventListener(\n                    'focus',\n                    () => {\n                        setTimeout(() => {\n                            if (!lock && documentNativeApi.getElementById(inputElement.id)) {\n                                reject(new Error('file upload on blur - no file selected'));\n                                documentNativeApi.body.removeChild(documentNativeApi.getElementById(inputElement.id) as Node);\n                            }\n                        }, 300);\n                    },\n                    {once: true}\n                );\n            }\n\n            // open file select box\n            inputElement.click();\n        });\n    };\n\n    static compress = (\n        imageDataUrlSource: DataUrl,\n        orientation: DOC_ORIENTATION,\n        render: Renderer2,\n        ratio: number = 50,\n        quality: number = 50,\n        maxwidth: number = 0,\n        maxheight: number = 0\n    ): Promise<string> =>\n        new Promise(function (resolve, reject) {\n            quality = quality / 100;\n            ratio = ratio / 100;\n            const sourceImage = new Image();\n\n            // important for safari: we need to wait for onload event\n            sourceImage.onload = () => {\n                const canvas: HTMLCanvasElement = render.createElement('canvas');\n                const ctx: CanvasRenderingContext2D | null = canvas.getContext('2d');\n\n                if (!ctx) {\n                    return reject(`No canvas context available`);\n                }\n\n                let w = sourceImage.naturalWidth;\n                let h = sourceImage.naturalHeight;\n\n                if (!CSS.supports('image-orientation', 'from-image')) {\n                    if (orientation === DOC_ORIENTATION.Right || orientation === DOC_ORIENTATION.Left) {\n                        const t = w;\n                        w = h;\n                        h = t;\n                    }\n                }\n\n                let xratio = maxwidth ? maxwidth / w : 1;\n                let yratio = maxheight ? maxheight / h : 1;\n                ratio = Math.min(ratio, xratio, yratio);\n                canvas.width = w * ratio;\n                canvas.height = h * ratio;\n\n                const TO_RADIANS = Math.PI / 180;\n\n                if (CSS.supports('image-orientation', 'from-image') || orientation === DOC_ORIENTATION.Up) {\n                    ctx.drawImage(sourceImage, 0, 0, canvas.width, canvas.height);\n                } else if (orientation === DOC_ORIENTATION.Right) {\n                    ctx.save();\n                    ctx.rotate(90 * TO_RADIANS);\n                    ctx.translate(0, -canvas.width);\n                    ctx.drawImage(sourceImage, 0, 0, canvas.height, canvas.width);\n                    ctx.restore();\n                } else if (orientation === DOC_ORIENTATION.Left) {\n                    ctx.save();\n                    ctx.rotate(-90 * TO_RADIANS);\n                    ctx.translate(-canvas.width, 0);\n                    ctx.drawImage(sourceImage, 0, 0, canvas.height, canvas.width);\n                    ctx.restore();\n                } else if (orientation === DOC_ORIENTATION.Down) {\n                    ctx.save();\n                    ctx.rotate(180 * TO_RADIANS);\n                    ctx.translate(-canvas.width, -canvas.height);\n                    ctx.drawImage(sourceImage, 0, 0, canvas.width, canvas.height);\n                    ctx.restore();\n                } else {\n                    // no orientation value found - same as default UP\n                    ctx.drawImage(sourceImage, 0, 0, canvas.width, canvas.height);\n                }\n\n                const mime = imageDataUrlSource.substr(5, imageDataUrlSource.split(';')[0].length - 5);\n                // TODO test on mime\n                const result = canvas.toDataURL(mime, quality);\n\n                resolve(result);\n            };\n\n            sourceImage.onerror = e => reject(e);\n            sourceImage.src = imageDataUrlSource;\n        });\n\n    static byteCount = (imgString: DataUrl): number => encodeURI(imgString).split(/%..|./).length - 1;\n\n    static getImageMaxSize = async (maxSizeMb: number, debugMode: boolean, render: Renderer2,\n                                    rejectOnCancel = false): Promise<DataUrl> => {\n        const MAX_TRIES = 10;\n\n        const bytesToMB = (bytes: number) => (bytes / 1024 / 1024).toFixed(2);\n\n        if (debugMode) {\n            console.debug('NgxImageCompress - Opening upload window');\n        }\n\n        let myFile: UploadResponse = (await ImageCompress.uploadFile(render, false, rejectOnCancel)) as UploadResponse;\n\n        let compressedFile;\n\n        for (let i = 0; i < MAX_TRIES; i++) {\n            const previousSize = ImageCompress.byteCount(myFile.image);\n            compressedFile = await ImageCompress.compress(myFile.image, myFile.orientation, render, 50, 100);\n            const newSize = ImageCompress.byteCount(compressedFile);\n            console.debug('NgxImageCompress -', 'Compression from', bytesToMB(previousSize), 'MB to', bytesToMB(newSize), 'MB');\n            if (newSize >= previousSize) {\n                if (i === 0) {\n                    if (debugMode) {\n                        console.debug(\n                            'NgxImageCompress -',\n                            \"File can't be reduced at all - returning the original\",\n                            bytesToMB(previousSize),\n                            'MB large'\n                        );\n                    }\n                    throw myFile.image;\n                } else {\n                    if (debugMode) {\n                        console.debug(\n                            'NgxImageCompress -',\n                            \"File can't be reduced more - returning the best we can, which is \",\n                            bytesToMB(previousSize),\n                            'MB large'\n                        );\n                    }\n                    throw myFile.image;\n                }\n            } else {\n                if (newSize < maxSizeMb * 1024 * 1024) {\n                    if (debugMode) {\n                        console.debug('NgxImageCompress -', 'Here your file', bytesToMB(newSize), 'MB large');\n                    }\n                    return compressedFile;\n                } else if (i === 9) {\n                    if (debugMode) {\n                        console.debug(\n                            'NgxImageCompress -',\n                            \"File can't reach the desired size after\",\n                            MAX_TRIES,\n                            'tries. Returning file ',\n                            bytesToMB(previousSize),\n                            'MB large'\n                        );\n                    }\n                    throw myFile.image;\n                }\n            }\n            if (debugMode) {\n                console.debug('NgxImageCompress -', 'Reached', bytesToMB(newSize), 'MB large. Trying another time after', i + 1, 'times');\n            }\n            myFile.image = compressedFile;\n        }\n        if (debugMode) {\n            console.debug('NgxImageCompress - Unexpected error');\n        }\n        throw '';\n    };\n}\n","import {Injectable, Renderer2, RendererFactory2} from '@angular/core';\nimport {ImageCompress} from './image-compress';\nimport {DOC_ORIENTATION} from './models/DOC_ORIENTATION';\nimport {UploadResponse} from './models/upload-response';\nimport {DataUrl} from './models/data-url';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class NgxImageCompressService {\n    private readonly render: Renderer2;\n\n    public DOC_ORIENTATION = DOC_ORIENTATION;\n\n    constructor(rendererFactory: RendererFactory2) {\n        this.render = rendererFactory.createRenderer(null, null);\n    }\n\n    /**\n     * helper to evaluate the compression rate\n     * @param imgString the image in base64 string format\n     */\n    public byteCount(image: DataUrl) {\n        return ImageCompress.byteCount(image);\n    }\n\n    /**\n     * Get the correct Orientation value from image tags\n     */\n    public getOrientation(file: File): Promise<DOC_ORIENTATION> {\n        return ImageCompress.getOrientation(file);\n    }\n\n    /**\n     * return a promise with the new image data and image orientation\n     * Nothing happen if no file have been selected\n     */\n    public uploadFile(): Promise<UploadResponse> {\n        return ImageCompress.uploadFile(this.render, false) as Promise<UploadResponse>;\n    }\n\n    /**\n     * return a promise with an array of image data and image orientation\n     * Nothing happen if no files have been selected\n     */\n    public uploadMultipleFiles(): Promise<UploadResponse[]> {\n        return ImageCompress.uploadFile(this.render, true) as Promise<UploadResponse[]>;\n    }\n\n    /**\n     * return a promise with the new image data and image orientation\n     * the promise will reject if no file have been selected\n     */\n    public uploadFileOrReject(): Promise<UploadResponse> {\n        return ImageCompress.uploadFile(this.render, false, true) as Promise<UploadResponse>;\n    }\n\n    /**\n     * return a promise with an array of image data and image orientation\n     * the promise will reject if no files have been selected\n     */\n    public uploadMultipleFilesOrReject(): Promise<UploadResponse[]> {\n        return ImageCompress.uploadFile(this.render, true, true) as Promise<UploadResponse[]>;\n    }\n\n    /**\n   * perform a compression from the given DataUrl (string), provided by the uploadFile, or uploadMultipleFiles method\n   *\n   *\n   | Parameter   | Type   | Description                                                                       |\n   | ----------- | ------ | --------------------------------------------------------------------------------- |\n   | image       | string | DataUrl (string) representing the image                                           |\n   | orientation | number | EXIF Orientation value using the DOC_ORIENTATION enum value                       |\n   | ratio       | number | Maximum scale factor as a percentage (optional, default: 50) <sup>[1](#fn1)</sup> |\n   | quality     | number | JPEG quality factor as a percentage (optional, default: 50) <sup>[2](#fn2)</sup>  |\n   | maxwidth    | number | Maximum width in pixels if you need to resize (optional, default: 0 - no resize)  |\n   | maxheight   | number | Maximum height in pixels if you need to resize (optional, default: 0 - no resize) |\n   */\n    public compressFile(\n        image: DataUrl,\n        orientation: DOC_ORIENTATION,\n        ratio: number = 50,\n        quality: number = 50,\n        maxWidth: number = 0,\n        maxHeight: number = 0\n    ): Promise<DataUrl> {\n        return ImageCompress.compress(image, orientation, this.render, ratio, quality, maxWidth, maxHeight);\n    }\n\n    /**\n     * Most simple function to use here.\n     * Perform an upload and return an image dataUrl (string format) with a maximum size, given in *MegaBytes*\n     * If the size can't be reached, the best that can be reached will be returned in promise *rejection*\n     * Put debugMode to true if you have some trouble to print some help using console.debug\n     */\n    public uploadAndGetImageWithMaxSize(maxSizeMb: number = 1, debugMode = false, rejectOnCancel = false): Promise<DataUrl> {\n        return ImageCompress.getImageMaxSize(maxSizeMb, debugMode, this.render, rejectOnCancel);\n    }\n}\n","/*\n * Public API Surface of ngx-image-compress\n */\n\nexport * from './lib/ngx-image-compress.service';\nexport * from './lib/models/DOC_ORIENTATION';\nexport * from './lib/models/upload-response';\nexport * from './lib/models/data-url';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}